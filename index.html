<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" content="notranslate" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <!-- Vue js -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <!-- Font Awesome  -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/style.css">

    <title>VueJs Search Job</title>
</head>

<body>

    <div class="container">


        <!-- App -->
        <div id="app">
            <nav id="pos0">
                <ul>
                    <li><a href="#pos1">All Job</a></li>
                    <li><a href="#pos2">My favorites</a></li>
                    <li><a href="#pos3">Application sent</a></li>
                </ul>
            </nav>

            <div v-if="applicationSent" class="application-sent">
                Application sent
            </div>

            <!-- ALL JOB -->

            <div id="pos1" class="job-container">
                <h1>All Job</h1>
                <ul v-for="(advertise, index) in jobs" class="job-adv mt-4">
                    <li><img class="logo" :src="advertise.logo" alt="logo"></li>
                    <li>
                        <h3>{{advertise.position}}</h3>
                    </li>
                    <li>
                        <h5>{{advertise.company}}</h5>
                    </li>
                    <li>{{advertise.city}} - Contratto: {{advertise.contract}}</li>
                    <li>Descrizione lavoro: {{advertise.description}}</li>
                    <li></li>
                    <li>Id annuncio: {{advertise.id}}</li>
                    <li>Pubblicato il: {{advertise.created_at}}</li>
                    <li class="application mt-3 mb-3">
                        <button @click="addToApplied(index); removeFromStarred(starred, advertise.id)"
                            :class="hideApplyButton(index)">Candidati</button>
                        <div :class="showApplyBadge(index)"><i class="fas fa-check"></i> Applied</div>
                    </li>
                    <li>
                        <i @click="addToStarred(index)" :class="includedInStarred(index)"></i>
                        <span class="pointer" v-if="starred.includes(advertise.id)"
                            @click="removeFromStarred(starred, advertise.id)"> Rimuovi dai preferiti </span>
                    </li>

                </ul>
            </div>

            <!-- MY favorites -->
            <div id="pos2" class="job-container">
                <h1 class="mt-5">My favorites</h1>
                <ul v-for="(advertise, index) in jobs" v-if="starred.includes(advertise.id)" class="job-adv mt-4">
                    <li><img class="logo" :src="advertise.logo" alt="logo"></li>
                    <li>
                        <h3>{{advertise.position}}</h3>
                    </li>
                    <li>
                        <h5>{{advertise.company}}</h5>
                    </li>
                    <li>{{advertise.city}} - Contratto: {{advertise.contract}}</li>
                    <li>Descrizione lavoro: {{advertise.description}}</li>
                    <li></li>
                    <li>Id annuncio: {{advertise.id}}</li>
                    <li>Pubblicato il: {{advertise.created_at}}</li>
                    <li class="application mt-3 mb-3">
                        <button @click="addToApplied(index); removeFromStarred(starred, advertise.id) "
                            :class="hideApplyButton(index)">Candidati</button>
                        <div :class="showApplyBadge(index)"><i class="fas fa-check"></i> Applied</div>
                    </li>
                    <li>
                        <i @click="addToStarred(index)" :class="includedInStarred(index)"></i>
                        <span class="pointer" v-if="starred.includes(advertise.id)"
                            @click="removeFromStarred(starred, advertise.id)"> Rimuovi dai preferiti </span>
                    </li>
                </ul>
            </div>

            <!-- Application sent -->
            <div id="pos3" class="job-container">
                <h1 class="mt-5">Application sent</h1>
                <ul v-for="(advertise, index) in jobs" v-if="applied.includes(advertise.id)" class="job-adv mt-4">
                    <li><img class="logo" :src="advertise.logo" alt="logo"></li>
                    <li>
                        <h3>{{advertise.position}}</h3>
                    </li>
                    <li>
                        <h5>{{advertise.company}}</h5>
                    </li>
                    <li>{{advertise.city}} - Contratto: {{advertise.contract}}</li>
                    <li>Descrizione lavoro: {{advertise.description}}</li>
                    <li></li>
                    <li>Id annuncio: {{advertise.id}}</li>
                    <li>Pubblicato il: {{advertise.created_at}}</li>
                    <li class="application mt-3 mb-3">
                        <button @click="addToApplied(index); removeFromStarred(starred, advertise.id) "
                            :class="hideApplyButton(index)">Candidati</button>
                        <div :class="showApplyBadge(index)"><i class="fas fa-check"></i> Applied</div>
                    </li>
                    <li>
                        <i @click="addToStarred(index)" :class="includedInStarred(index)"></i>
                        <span class="pointer" v-if="starred.includes(advertise.id)"
                            @click="removeFromStarred(starred, advertise.id)"> Rimuovi dai preferiti </span>
                    </li>
                </ul>
            </div>

            <div class="to-top">
                <a href="#pos0">
                    <i class="fas fa-arrow-up"></i>
                </a>
            </div>
        </div>

    </div>


    <!-- Custom JS -->
    <script src="./js/script.js"></script>

</body>

</html>